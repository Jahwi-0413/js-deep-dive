# 24장 클로저

클로저 -> 함수와 그 함수가 선언된 렉시컬 환경과의 조합.

## 24.1 렉시컬 스코프

자바스크립트 엔진은 함수의 정의 위치에 따라 상위 스코프를 결정하고 이를 렉시컬 스코프라 한다.

## 24.2 함수 객체의 내부 슬롯 **[[Environment]]**

함수의 내부 슬롯 [[Environment]]에는 자신이 정의된 환경인 상위 스코프의 참조를 저장함.

## 24.3 클로저와 렉시컬 환경

외부 함수보다 중첩 함수가 더 오래 유지되는 경우 중첩 함수는 생명 주기가 종료한 외부 함수의 변수를 참조할 수 있다.
이 중첩 함수를 클로저라고 한다.

```javascript
const x = 1;

function outer() {
  const x = 10;
  const inner = function () {
    console.log(x);
  };
  return inner;
}

const innerFunc = outer();
innerFunc(); //10
```

outer 함수의 실행 컨텍스트는 제거되지만 outer함수의 렉시컬 환경까지 소멸하는 것은 아니다.
outer 함수의 렉시컬 환경은 inner 함수의 내부 슬롯[[Environment]]에 참조되고
innere 함수는 innerFunc에 참조되고 있어 가비지 컬렉션에 대상이 되지 않기 때문이다.
가비지 컬렉터는 어딘가에서 참조중인 메모리 공간을 해제하지 않는다.

## 24.4 클로저의 활용

클로저는 상태를 안전하게 은닉하고 특정 함수에게만 상태 변경을 허용하기 위해 사용한다.

## 24.5 캡슐화와 정보 은닉

캡슐화 -> 객체의 상태와 동작을 하나로 묶는것
정보 은닉 -> 객체의 특정 프로퍼티나 메서드를 감추는것

자바스크립트에서는 접근제한자를 제공하지 않았었지만 ES2019부터는 private 메서드와 프로퍼티를 사용할 수 있게 됨
