# 11강 원시 값과 객체의 비교

자바스크립트는 크게 원시타입과 객체타입으로 구분함

- 원시 타입
  변경 불가능한 값(immutable value)
  메모리 공간에는 실제 값이 저장
- 객체 타입 -> 변경 가능한 값(mutable value)
  변경 가능한 값(mutable value)
  메모리 공간에는 참조 값 저장

## 11.1 원시 값

### 11.1.1 변경 불가능한 값

한번 생성된 원시 값은 읽기 전용 값으로 변경 불가능함
이 말은 변수의 값을 변경할수 없다는것이 아니라 값 자체를 변경 불가능하다는 뜻이 아님
그리고 상수는 재할당이 금지된 변수이니 변경 불가능한 값이랑 동일시 하지 않도록 주의할것

원시 값은 그 자체의 값을 변경할 수 없고 변수의 값을 바꾸는것은 새로운 메모리를 할당해 값을 생성하고 변수의 참조를 바꾸는것이다
이것을 **불변성**이라 함

불변성을 갖는 원시 값을 할당한 변수는 재할당 이외에 변수 값을 변경할 수 있는 방법이 없음

### 11.1.2 문자열과 불변성

문자열은 유사 배열 객체이고 iterable하고 배열처럼 각 문자에 접근이 가능하다

> 유사배열객체
>
> 배열처럼 인덱스로 프로퍼티 값에 벅느할 수 있고, length를 가지는 객체
>
> ```javascript
> const str = "string";
> console.log(str[0]); //s
> ```

### 11.1.3 값에 의한 전달

원시 값은 값에 의한 전달이 이루어짐
단순히 값만 복사됨

```javascript
let a = 1;
const b = a;
console.log(a, b); //1, 1
console.log(a === b); //true

a = 2;
console.log(a, b); //2, 1
```

위에서 a와 b는 각각 다른 메모리에 저장된 1을 참조한다.

## 11.2 객체

프로퍼티의 개수에 제약이 없고 추가되고 삭제될 수 있음
원시 값처럼 메모리 공간을 미리 정의해둘 수 없음

> 자바스크립트 객체의 관리 방식
>
> 자바, C++ 처럼 클래스 기반 객체지향 프로그래밍 언어는 사전에 정의된 클래스를 기반으로 인스턴스를 생성함
> 자바스크립트는 클래스가 없어도 객체를 생성할 수 있고 속성도 추가, 삭제할 수 있어 성능적으로는 다른 언어보다 비용이 높은 방식임
> 이를 동적 탐색대신 **히든 클래스** 라는 방식을 사용해 성능을 개선했음

### 11.2.1 변경 가능한 값

객체는 변경 가능한 값임.
객체 타입의 변수는 객체가 실제로 저장된 메모리 공간의 주소를 저장함. 이 참조를 통해 객체에 접근함
객체는 여러 식별자가 하나의 객체를 공유할 수 있다는 단점이 있음

> 얕은 복사 vs 깊은 복사
> 얕은 복사 -> 객체를 할당한 변수를 다른 변수에 할당하는것
> 깊은 복사 -> 원시 값을 할당한 변수를 다른 변수에 할당하는 것

### 11.2.2 참조에 의한 전달

원본의 참조 값이 복사되어 전달됨

```javascript
const p = {
  name: "J",
};
const copy = p;

console.log(p === copy); //true
```
